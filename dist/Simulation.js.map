{"version":3,"file":"Simulation.js","sourceRoot":"","sources":["../src/Simulation.ts"],"names":[],"mappings":"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"}